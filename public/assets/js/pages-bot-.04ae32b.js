(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{193:function(t,e,s){"use strict";s.r(e);s(20),s(21),s(32);var n=s(15),i=s(29),o=s(1);function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c={name:"Bot",components:{},props:{},data:function(){return{query:null}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},n=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),n.forEach(function(e){a(t,e,s[e])})}return t}({},Object(n.b)({steps:"Bot/steps",isLoading:"Bot/isLoading"})),created:function(){this.$store.dispatch("Bot/START_BOT")},mounted:function(){},watch:{steps:function(t){setTimeout(function(){window.scrollTo(0,document.body.scrollHeight)},200)}},methods:{buttonSelect:function(t){this.$store.commit("Bot/ADD_STEP",t.target.dataset.value),this.$store.dispatch("Bot/QUERY_BOT",{text:t.target.dataset.value}),this.query="",this.$refs.Input.focus()},go:function(){this.$store.commit("Bot/ADD_STEP",this.query),this.$store.dispatch("Bot/QUERY_BOT",{text:this.query}),this.query="",this.$refs.Input.focus()},haskeyspeech:function(t){return!(!this.steps[t].speech&&""!==this.steps[t].speech)},messagewithchoices:function(t){return Object(o.get)(this.steps,"".concat(t,".messages.0.speech"))},choices:function(t){return Object(o.get)(this.steps,"".concat(t,".messages.1.replies"))},finalCardLink:function(t){return Object(o.get)(this.steps,"".concat(t,".messages.1.buttons.0.postback"))},finalCardImg:function(t){return Object(o.get)(this.steps,"".concat(t,".messages.1.imageUrl"))},finalCardLabel:function(t){return Object(o.get)(this.steps,"".concat(t,".messages.1.title"))},slideIn:function(t,e){i.d.fromTo(t,.2,{opacity:0,x:-30},{opacity:1,x:0,delay:.5,onComplete:e})},slideOut:function(t,e){i.d.to(t,.3,{opacity:0,x:-30,onComplete:e})}}},r=(s(207),s(16)),u=Object(r.a)(c,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"Bot _container"},[s("div",{staticClass:"container"},[t._m(0),t._v(" "),s("ul",{staticClass:"step-list"},[s("transition-group",{attrs:{mode:"out-in"},on:{enter:t.slideIn,leave:t.slideOut,css:!1}},t._l(t.steps,function(e,n){return s("li",{key:n+0},[t.haskeyspeech(n)?s("div",{staticClass:"bot-helper"},[s("div",{staticClass:"icon bot"}),t._v(" "),""===e.speech?s("div",[s("div",{staticClass:"info-bulle",domProps:{innerHTML:t._s(t.messagewithchoices(n))}}),t._v(" "),t.choices(n)?s("ul",t._l(t.choices(n),function(e){return s("button",{key:e,staticClass:"choice",attrs:{"data-value":e},domProps:{innerHTML:t._s(e)},on:{click:t.buttonSelect}})}),0):s("a",{staticClass:"final-link",attrs:{href:t.finalCardLink(n)}},[s("img",{attrs:{src:t.finalCardImg(n),alt:""}}),t._v(" "),s("div",{staticClass:"label",domProps:{innerHTML:t._s(t.finalCardLabel(n))}})])]):s("div",{staticClass:"info-bulle",domProps:{innerHTML:t._s(e.speech)}})]):s("div",{staticClass:"user-response"},[s("div",{staticClass:"info-bulle",domProps:{innerHTML:t._s(e)}})])])}),0)],1),t._v(" "),s("div",{staticClass:"input-container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"Input",staticClass:"input",attrs:{type:"text",placeholder:"Rechercher..."},domProps:{value:t.query},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.go(e)},input:function(e){e.target.composing||(t.query=e.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn-send",on:{click:t.go}},[t._v("Envoyer")])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"header"},[e("div",{staticClass:"logo robot"},[e("img",{attrs:{src:"/static/boto.svg",alt:""}})])])}],!1,null,"5947abf9",null);e.default=u.exports},197:function(t,e,s){},207:function(t,e,s){"use strict";var n=s(197);s.n(n).a}}]);